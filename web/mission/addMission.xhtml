<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">
    <h:head>
        <title>Agent</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>

<!-- Bootstrap Core CSS -->
<link href="../../resources/adminresource/css/bootstrap.css" rel='stylesheet' type='text/css' />
<!-- Custom CSS -->
<link href="../../resources/adminresource/css/style.css" rel='stylesheet' type='text/css' />

<!-- font-awesome icons CSS-->
<link href="../../resources/adminresource/css/font-awesome.css" rel="stylesheet"/> 
<!-- //font-awesome icons CSS-->

 <!-- side nav css file -->
 <link href='../../resources/adminresource/css/SidebarNav.min.css' media='all' rel='stylesheet' type='text/css'/>
 <!-- side nav css file -->
 
 <!-- js-->
<!-- prob <script src="../../resources/adminresource/js/jquery-1.11.1.min.js"></script>-->
<script src="../../resources/adminresource/js/modernizr.custom.js"></script>

<!--webfonts-->
<link href="//fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i&amp;subset=cyrillic,cyrillic-ext,latin-ext" rel="stylesheet"></link>
<!--//webfonts-->
 
<!-- Metis Menu -->
<script src="../../resources/adminresource/js/metisMenu.min.js"></script>
<script src="../../resources/adminresource/js/custom.js"></script>
<link href="../../resources/adminresource/css/custom.css" rel="stylesheet"> </link>
<!--//Metis Menu -->
    </h:head>
    <h:body class="cbp-spmenu-push">
      
          <div class="main-content">
          
                 <ui:include src="topbar.xhtml" />
            
           
                 <ui:include src="leftbar.xhtml" />
            
        <div id="page-wrapper">
			<div class="main-page">
				<div class="forms">
					<h2 class="title1">Ajouter une Mission </h2>
					<div class="form-grids row widget-shadow" data-example-id="basic-forms"> 
						<div class="form-title">
							<h4>Les Informations effectives de la mission :</h4>
						</div>
                                            <h:form id="form"> 
						<div class="form-body">
                                                    <p:growl id="msgs" showDetail="true" />
                                                        <p:messages id="messages" showDetail="true" closable="true">
                                                        
                                                          </p:messages>
                                                       
                                                        <div class="form-group"> <p:outputLabel  value="Matricule  :"> </p:outputLabel> <p:inputText class="form-control" value="#{modele_agent.agent.matricule}"  required="true" readonly='true'> </p:inputText> </div>
                                                        <div class="form-group"> <p:outputLabel  value="Nom  :"> </p:outputLabel> <p:inputText class="form-control" value="#{modele_agent.agent.nom}"  required="true" readonly='true'> </p:inputText> </div>
                                                        <div class="form-group"> <p:outputLabel  value="Prenom :">  </p:outputLabel> <p:inputText class="form-control" value="#{modele_agent.agent.pernom}" required="true" readonly='true'></p:inputText> </div> 
                                                        <div class="form-group"> <p:outputLabel  value="Intitulé de la mission :">  </p:outputLabel> <p:inputText class="form-control" value="#{modele_agent.mission.intitule_Mission}" required="true" placeholder="Intitule de la mission"></p:inputText> </div> 
                                                        <div class="form-group"> <p:outputLabel  value="Objectif :">  </p:outputLabel> <p:inputText class="form-control" value="#{modele_agent.mission.objectif}" required="true" placeholder="Objectif"></p:inputText> </div> 
                                                         
                                                        <!---
                                                        <div class="form-group"> <p:outputLabel  value="Matricule du vehicule :">  </p:outputLabel> 
                                                            <p:inputText  value="" id="carDetail" style="width: 20%" required="true"  placeholder="Matricule vehicule">
                                                                <p:ajax event="blur" listener="" update="out1" />
                                                                <p:ajax event="blur" listener="" update="ftotal"/>
                                                        </p:inputText>           
                                                        -->
                                                            
                                                            <p:growl id="msgvehicule" showDetail="true" /> 
                                                            <p:dataTable  id="carevent" var="car" emptyMessage="Aucun vehicule n'est disponnible." value="#{modele_agent.vehicule}" selectionMode="single" selection="#{modele_agent.vh}" rowKey="#{car.id}"  >
                                                                        <f:facet name="header">
                                                                Sélectionner une vehicule
                                                                               </f:facet>
                                                                <p:ajax event="rowSelect" listener="#{modele_agent.onRowSelect}"  update="form:msgvehicule form:out1 form:ftotal"/>
                                                                
                                                                 <p:column headerText="Id:" filterBy="#{car.id}" filterMatchMode="contains"   >
                                                                     <h:outputText value="#{car.id}"  />
                                                                  </p:column>
                                                                <p:column headerText="immatriculation:" filterBy="#{car.immatriculation}" filterMatchMode="contains"   >
                                                                     <h:outputText value="#{car.immatriculation}"  />
                                                                  </p:column>
                                                                <p:column headerText="Modéle " filterBy="#{car.model}" filterMatchMode="contains"   >
                                                                     <h:outputText value="#{car.model}"  />
                                                                  </p:column>
                                                                <p:column headerText="Consommation ">
                                                                     <h:outputText value="#{car.consommation}"  />
                                                                  </p:column>
                                                                <p:column headerText="numero carte grise " >
                                                                     <h:outputText value="#{car.numcarte_grise}"  />
                                                                  </p:column>
                                                                <p:column headerText="numero de chasis "    >
                                                                     <h:outputText value="#{car.numchasis}"  />
                                                                  </p:column>
                                                                    
                                                            </p:dataTable>
      <!-- </div>     -->                   <div class="form-group"> <p:outputLabel  value="Kilometrage:">  </p:outputLabel> <p:inputText class="form-control" value="#{modele_agent.mission.kilometrage}"  required="true" placeholder="Kilometrage">
                                                                <p:ajax event="blur" listener="#{modele_agent.onBlurkilometrage}" update="out1" />
                                                                <p:ajax event="blur" listener="#{modele_agent.onBlurkilometrage}" update="ftotal"/>
                                                                                                                                             </p:inputText> </div>
                                                       <div class="form-group"> 
                                                        <h:panelGrid columns="2" cellpadding="5">
       
        <p:outputLabel for="multiple" value="Les Villes:" />
        <p:selectCheckboxMenu id="multiple" value="#{modele_agent.selectedCities2}" label="Cities" multiple="true"
                              filter="true" filterMatchMode="startsWith" panelStyle="width:250px">
            <f:selectItems value="#{modele_agent.cities}" />
        </p:selectCheckboxMenu>
        
         
       
                                                    </h:panelGrid>     
                                                       </div>
                                                         <div class="form-group">            
                                                        <h:panelGrid columns="2" cellpadding="5">
                                                   <p:outputLabel for="basic" value="Type de la mission :  " />
                                                   <p:selectOneListbox id="basic" value="#{modele_agent.type}" style="width:100px;">
            <f:selectItem itemLabel="Reparation vehicule" itemValue="Reparation vehicule"  />
            <f:selectItem itemLabel="Conferance" itemValue="Conferance" />
        </p:selectOneListbox>
                                               </h:panelGrid>     </div>
                                                        
                                                                  <div class="form-group">     
                                                        <h:panelGrid columns="4" cellpadding="5">
        <p:outputLabel for="date_aller" value="Date aller: "/>
        <p:calendar id="date_aller" value="#{modele_agent.date1}" style="padding-left: 50px;padding-right:100px;">  
            <p:ajax event="dateSelect" listener="#{modele_agent.onDateSelect1}" update="out2" />
            <p:ajax event="dateSelect" listener="#{modele_agent.onDateSelect1}" update="out3" />
            <p:ajax event="dateSelect" listener="#{modele_agent.onDateSelect1}" update="ftotal" />
        </p:calendar>
        <p:outputLabel for="date_retour" value="Date Retour:" />
        <p:calendar id="date_retour" value="#{modele_agent.date2}" style="padding-left: 50px;" >
            <p:ajax event="dateSelect" listener="#{modele_agent.onDateSelect2}" update="out2" />
            <p:ajax event="dateSelect" listener="#{modele_agent.onDateSelect2}" update="out3" />
            <p:ajax event="dateSelect" listener="#{modele_agent.onDateSelect2}" update="ftotal"/>
        </p:calendar>
        
                                                   </h:panelGrid></div>
                                                </div>
                                                <div class="form-title">
							<h4>Informations pour le budget accordé :</h4>
						        </div>
                                                     <div class="form-body">
                                                        
         <div class="form-group"> <p:outputLabel  value="Frais Transport  :"> </p:outputLabel> 
             <p:outputLabel value="#{modele_agent.ftransport}" id="out1"/> </div>
          <div class="form-group"> <p:outputLabel  value="Frais D'hébérgement  :" >  </p:outputLabel> 
              <p:outputLabel value="#{modele_agent.fhebergement}" id="out2"/>
                </div>
        <div class="form-group"> <p:outputLabel  value="Frais Divers  :"> </p:outputLabel> 
            <p:outputLabel value="#{modele_agent.fdiver}" id="out3"/> </div> 
            <div class="form-group"> <p:outputLabel  value="Prix Essance  :"> </p:outputLabel> 
                <p:outputLabel value="#{modele_agent.prixEssance}" /> </div>   
        <div class="form-group"> <p:outputLabel  value="Frais Total  :"> </p:outputLabel> 
            <p:inputText class="form-control" value="#{modele_agent.ftotal}"  id="ftotal" readonly='true'> </p:inputText> </div>                                                
       
             <p:commandButton value="Ajouter" id="ajax"  actionListener="#{modele_agent.ajouterMission()}" class="btn btn-default" ajax="false"/>
                                                        

                                                    
						
                                        </div>
             
                                            </h:form> 
                                        </div>
                                </div>
                            </div>
            </div>
        </div>
        
           
            
    
        
        <!-- side nav js -->
	<script src='../../resources/adminresource/js/SidebarNav.min.js' type='text/javascript'></script>
	<script>
      $('.sidebar-menu').SidebarNav()
    </script>
	<!-- //side nav js -->
	
	<!-- Classie --><!-- for toggle left push menu script -->
		<script src="../../resources/adminresource/js/classie.js"></script>
		<script>
			var menuLeft = document.getElementById( 'cbp-spmenu-s1' ),
				showLeftPush = document.getElementById( 'showLeftPush' ),
				body = document.body;
                        
                        
			showLeftPush.onclick = function() {
				classie.toggle( this, 'active' );
				classie.toggle( body, 'cbp-spmenu-push-toright' );
				classie.toggle( menuLeft, 'cbp-spmenu-open' );
				disableOther( 'showLeftPush' );
			};
			
			function disableOther( button ) {
				if( button !== 'showLeftPush' ) {
					classie.toggle( showLeftPush, 'disabled' );
				}
			}
		</script>
	<!-- //Classie --><!-- //for toggle left push menu script -->
		
	<!--scrolling js-->
	<script src="../../resources/adminresource/js/jquery.nicescroll.js"></script>
	<script src="../../resources/adminresource/js/scripts.js"></script>
	<!--//scrolling js-->
	
	<!-- Bootstrap Core JavaScript -->
   <script src="../../resources/adminresource/js/bootstrap.js"> </script>
	<!-- //Bootstrap Core JavaScript -->
    </h:body>
        </f:view>
</html>
    
